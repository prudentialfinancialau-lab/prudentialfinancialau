import{R as P,P as E,r as l,u as Sn,i as Oe,e as Pn,o as jt,d as ze,m as Ke,a as Mn,b as Te,c as On,t as tt,s as Cn,f as xn,g as Rn,h as Tn,$ as $n,j as Fn,k as q,l as be,F as In,n as Nn,p as An}from"./index-26fbb5fd.js";function yt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jn(e){if(Array.isArray(e))return e}function Ln(e,t,n){return(t=Vn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,s,a=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(c){d=!0,o=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw o}}return a}}function Hn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wt(Object(n),!0).forEach(function(r){Ln(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dn(e,t){if(e==null)return{};var n,r,o=Bn(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Bn(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Un(e,t){return jn(e)||kn(e,t)||Wn(e,t)||Hn()}function _n(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(e){var t=_n(e,"string");return typeof t=="symbol"?t:t+""}function Wn(e,t){if(e){if(typeof e=="string")return yt(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?St(Object(n),!0).forEach(function(r){qn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,i){return i(o)},r)}}function he(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return t.apply(n,[].concat(o,a))}}}function $e(e){return{}.toString.call(e).includes("Object")}function Kn(e){return!Object.keys(e).length}function we(e){return typeof e=="function"}function Gn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yn(e,t){return $e(t)||ie("changeType"),Object.keys(t).some(function(n){return!Gn(e,n)})&&ie("changeField"),t}function Xn(e){we(e)||ie("selectorType")}function Jn(e){we(e)||$e(e)||ie("handlerType"),$e(e)&&Object.values(e).some(function(t){return!we(t)})&&ie("handlersType")}function Zn(e){e||ie("initialIsRequired"),$e(e)||ie("initialType"),Kn(e)&&ie("initialContent")}function Qn(e,t){throw new Error(e[t]||e.default)}var er={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ie=he(Qn)(er),Ce={changes:Yn,selector:Xn,handler:Jn,initial:Zn};function tr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ce.initial(e),Ce.handler(t);var n={current:e},r=he(or)(n,t),o=he(rr)(n),i=he(Ce.changes)(e),s=he(nr)(n);function a(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return Ce.selector(d),d(n.current)}function u(d){zn(r,o,i,s)(d)}return[a,u]}function nr(e,t){return we(t)?t(e.current):t}function rr(e,t){return e.current=Pt(Pt({},e.current),t),t}function or(e,t,n){return we(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var lr={create:tr},ir={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs"}};function ur(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return t.apply(n,[].concat(o,a))}}}function ar(e){return{}.toString.call(e).includes("Object")}function sr(e){return e||Mt("configIsRequired"),ar(e)||Mt("configType"),e.urls?(cr(),{paths:{vs:e.urls.monacoBase}}):e}function cr(){console.warn(Lt.deprecation)}function fr(e,t){throw new Error(e[t]||e.default)}var Lt={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Mt=ur(fr)(Lt),dr={config:sr},pr=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(i,s){return s(i)},o)}};function kt(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],kt(e[n],t[n]))}),Et(Et({},e),t)}var mr={type:"cancelation",msg:"operation is manually canceled"};function Ge(e){var t=!1,n=new Promise(function(r,o){e.then(function(i){return t?o(mr):r(i)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var gr=["monaco"],vr=lr.create({config:ir,isInitialized:!1,resolve:null,reject:null,monaco:null}),Ht=Un(vr,2),Se=Ht[0],je=Ht[1];function hr(e){var t=dr.config(e),n=t.monaco,r=Dn(t,gr);je(function(o){return{config:kt(o.config,r),monaco:n}})}function br(){var e=Se(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(je({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Ge(Ye);if(window.monaco&&window.monaco.editor)return Dt(window.monaco),e.resolve(window.monaco),Ge(Ye);pr(yr,Er)(Sr)}return Ge(Ye)}function yr(e){return document.body.appendChild(e)}function wr(e){var t=document.createElement("script");return e&&(t.src=e),t}function Er(e){var t=Se(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),n=wr("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Sr(){var e=Se(function(n){var r=n.config,o=n.resolve,i=n.reject;return{config:r,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m;Dt(r),e.resolve(r)},function(n){e.reject(n)})}function Dt(e){Se().monaco||je({monaco:e})}function Pr(){return Se(function(e){var t=e.monaco;return t})}var Ye=new Promise(function(e,t){return je({resolve:e,reject:t})}),Fe={config:hr,init:br,__getMonacoInstance:Pr};function nt(){return nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(this,arguments)}const Mr={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};function Or({content:e}){return P.createElement("div",{style:Mr},e)}const Xe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function Bt({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:s}){return P.createElement("section",nt({style:{...Xe.wrapper,width:e,height:t}},s),!n&&P.createElement(Or,{content:r}),P.createElement("div",{ref:o,style:{...Xe.fullWidth,...!n&&Xe.hide},className:i}))}Bt.propTypes={width:E.oneOfType([E.number,E.string]).isRequired,height:E.oneOfType([E.number,E.string]).isRequired,loading:E.oneOfType([E.element,E.string]).isRequired,isEditorReady:E.bool.isRequired,className:E.string,wrapperProps:E.object};var Ut=l.memo(Bt);function st(e){l.useEffect(e,[])}function Z(e,t,n=!0){const r=l.useRef(!0);l.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}function ye(){}function Ie(e,t,n,r){return Cr(e,r)||xr(e,t,n,r)}function Cr(e,t){return e.editor.getModel(_t(e,t))}function xr(e,t,n,r){return e.editor.createModel(t,n,r&&_t(e,r))}function _t(e,t){return e.Uri.parse(t)}function Rr(e){return e===void 0}function Vt({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:s,keepCurrentOriginalModel:a,keepCurrentModifiedModel:u,theme:d,loading:c,options:v,height:g,width:p,className:f,wrapperProps:m,beforeMount:h,onMount:S}){const[M,y]=l.useState(!1),[C,$]=l.useState(!0),L=l.useRef(null),T=l.useRef(null),D=l.useRef(null),H=l.useRef(S),O=l.useRef(h);st(()=>{const x=Fe.init();return x.then(j=>(T.current=j)&&$(!1)).catch(j=>(j==null?void 0:j.type)!=="cancelation"&&console.error("Monaco initialization: error:",j)),()=>L.current?B():x.cancel()}),Z(()=>{const x=L.current.getModifiedEditor();x.getOption(T.current.editor.EditorOption.readOnly)?x.setValue(t):t!==x.getValue()&&(x.executeEdits("",[{range:x.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),x.pushUndoStop())},[t],M),Z(()=>{L.current.getModel().original.setValue(e)},[e],M),Z(()=>{const{original:x,modified:j}=L.current.getModel();T.current.editor.setModelLanguage(x,r||n),T.current.editor.setModelLanguage(j,o||n)},[n,r,o],M),Z(()=>{T.current.editor.setTheme(d)},[d],M),Z(()=>{L.current.updateOptions(v)},[v],M);const A=l.useCallback(()=>{O.current(T.current);const x=Ie(T.current,e,r||n,i),j=Ie(T.current,t,o||n,s);L.current.setModel({original:x,modified:j})},[n,t,o,e,r,i,s]),U=l.useCallback(()=>{L.current=T.current.editor.createDiffEditor(D.current,{automaticLayout:!0,...v}),A(),T.current.editor.setTheme(d),y(!0)},[v,d,A]);l.useEffect(()=>{M&&H.current(L.current,T.current)},[M]),l.useEffect(()=>{!C&&!M&&U()},[C,M,U]);function B(){const x=L.current.getModel();if(!a){var j;(j=x.original)===null||j===void 0||j.dispose()}if(!u){var W;(W=x.modified)===null||W===void 0||W.dispose()}L.current.dispose()}return P.createElement(Ut,{width:p,height:g,isEditorReady:M,loading:c,_ref:D,className:f,wrapperProps:m})}Vt.propTypes={original:E.string,modified:E.string,language:E.string,originalLanguage:E.string,modifiedLanguage:E.string,originalModelPath:E.string,modifiedModelPath:E.string,keepCurrentOriginalModel:E.bool,keepCurrentModifiedModel:E.bool,theme:E.string,loading:E.oneOfType([E.element,E.string]),options:E.object,width:E.oneOfType([E.number,E.string]),height:E.oneOfType([E.number,E.string]),className:E.string,wrapperProps:E.object,beforeMount:E.func,onMount:E.func};Vt.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:ye,onMount:ye};function Tr(){const[e,t]=l.useState(Fe.__getMonacoInstance());return st(()=>{let n;return e||(n=Fe.init(),n.then(r=>{t(r)})),()=>{var r;return(r=n)===null||r===void 0?void 0:r.cancel()}}),e}function $r(e){const t=l.useRef();return l.useEffect(()=>{t.current=e},[e]),t.current}const xe=new Map;function ct({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:s,line:a,loading:u,options:d,overrideServices:c,saveViewState:v,keepCurrentModel:g,width:p,height:f,className:m,wrapperProps:h,beforeMount:S,onMount:M,onChange:y,onValidate:C}){const[$,L]=l.useState(!1),[T,D]=l.useState(!0),H=l.useRef(null),O=l.useRef(null),A=l.useRef(null),U=l.useRef(M),B=l.useRef(S),x=l.useRef(null),j=l.useRef(r),W=$r(i);st(()=>{const b=Fe.init();return b.then(w=>(H.current=w)&&D(!1)).catch(w=>(w==null?void 0:w.type)!=="cancelation"&&console.error("Monaco initialization: error:",w)),()=>O.current?R():b.cancel()}),Z(()=>{const b=Ie(H.current,e||r,t||o,i);b!==O.current.getModel()&&(v&&xe.set(W,O.current.saveViewState()),O.current.setModel(b),v&&O.current.restoreViewState(xe.get(i)))},[i],$),Z(()=>{O.current.updateOptions(d)},[d],$),Z(()=>{O.current.getOption(H.current.editor.EditorOption.readOnly)?O.current.setValue(r):r!==O.current.getValue()&&(O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),O.current.pushUndoStop())},[r],$),Z(()=>{H.current.editor.setModelLanguage(O.current.getModel(),o)},[o],$),Z(()=>{Rr(a)||O.current.revealLine(a)},[a],$),Z(()=>{H.current.editor.setTheme(s)},[s],$);const z=l.useCallback(()=>{B.current(H.current);const b=i||n,w=Ie(H.current,r||e,t||o,b);O.current=H.current.editor.create(A.current,{model:w,automaticLayout:!0,...d},c),v&&O.current.restoreViewState(xe.get(b)),H.current.editor.setTheme(s),L(!0)},[e,t,n,r,o,i,d,c,v,s]);l.useEffect(()=>{$&&U.current(O.current,H.current)},[$]),l.useEffect(()=>{!T&&!$&&z()},[T,$,z]),j.current=r,l.useEffect(()=>{if($&&y){var b,w;(b=x.current)===null||b===void 0||b.dispose(),x.current=(w=O.current)===null||w===void 0?void 0:w.onDidChangeModelContent(I=>{const F=O.current.getValue();j.current!==F&&y(F,I)})}},[$,y]),l.useEffect(()=>{if($){const b=H.current.editor.onDidChangeMarkers(w=>{var I;const F=(I=O.current.getModel())===null||I===void 0?void 0:I.uri;if(F&&w.find(_=>_.path===F.path)){const _=H.current.editor.getModelMarkers({resource:F});C==null||C(_)}});return()=>{b==null||b.dispose()}}},[$,C]);function R(){var b;if((b=x.current)===null||b===void 0||b.dispose(),g)v&&xe.set(i,O.current.saveViewState());else{var w;(w=O.current.getModel())===null||w===void 0||w.dispose()}O.current.dispose()}return P.createElement(Ut,{width:p,height:f,isEditorReady:$,loading:u,_ref:A,className:m,wrapperProps:h})}ct.propTypes={defaultValue:E.string,defaultPath:E.string,defaultLanguage:E.string,value:E.string,language:E.string,path:E.string,theme:E.string,line:E.number,loading:E.oneOfType([E.element,E.string]),options:E.object,overrideServices:E.object,saveViewState:E.bool,keepCurrentModel:E.bool,width:E.oneOfType([E.number,E.string]),height:E.oneOfType([E.number,E.string]),className:E.string,wrapperProps:E.object,beforeMount:E.func,onMount:E.func,onChange:E.func,onValidate:E.func};ct.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:ye,onMount:ye,onValidate:ye};var Fr=l.memo(ct),Ir=Object.defineProperty,Nr=(e,t,n)=>t in e?Ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Je=(e,t,n)=>(Nr(e,typeof t!="symbol"?t+"":t,n),n);let Ar=class{constructor(){Je(this,"current",this.detect()),Je(this,"handoffState","pending"),Je(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},fe=new Ar;function Pe(e){return fe.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Wt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function de(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Wt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=de();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function Le(){let[e]=l.useState(de);return l.useEffect(()=>()=>e.dispose(),[e]),e}let V=(e,t)=>{fe.isServer?l.useEffect(e,t):l.useLayoutEffect(e,t)};function re(e){let t=l.useRef(e);return V(()=>{t.current=e},[e]),t}let N=function(e){let t=re(e);return P.useCallback((...n)=>t.current(...n),[t])};function jr(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Lr(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function kr({disabled:e=!1}={}){let t=l.useRef(null),[n,r]=l.useState(!1),o=Le(),i=N(()=>{t.current=null,r(!1),o.dispose()}),s=N(a=>{if(o.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let u=Pe(a.currentTarget);o.addEventListener(u,"pointerup",i,!1),o.addEventListener(u,"pointermove",d=>{if(t.current){let c=jr(d);r(Lr(c,t.current.getBoundingClientRect()))}},!1),o.addEventListener(u,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:i,onClick:i}}}function rt(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function J(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,J),r}var pe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(pe||{}),le=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(le||{});function ee({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:s,mergeRefs:a}){a=a??Dr;let u=qt(t,e);if(i)return Re(u,n,r,s,a);let d=o??0;if(d&2){let{static:c=!1,...v}=u;if(c)return Re(v,n,r,s,a)}if(d&1){let{unmount:c=!0,...v}=u;return J(c?0:1,{0(){return null},1(){return Re({...v,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return Re(u,n,r,s,a)}function Re(e,t={},n,r,o){let{as:i=n,children:s,refName:a="ref",...u}=Ze(e,["unmount","static"]),d=e.ref!==void 0?{[a]:e.ref}:{},c=typeof s=="function"?s(t):s;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(t)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let v={};if(t){let g=!1,p=[];for(let[f,m]of Object.entries(t))typeof m=="boolean"&&(g=!0),m===!0&&p.push(f.replace(/([A-Z])/g,h=>`-${h.toLowerCase()}`));if(g){v["data-headlessui-state"]=p.join(" ");for(let f of p)v[`data-${f}`]=""}}if(i===l.Fragment&&(Object.keys(ae(u)).length>0||Object.keys(ae(v)).length>0))if(!l.isValidElement(c)||Array.isArray(c)&&c.length>1){if(Object.keys(ae(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ae(u)).concat(Object.keys(ae(v))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=c.props,p=g==null?void 0:g.className,f=typeof p=="function"?(...S)=>rt(p(...S),u.className):rt(p,u.className),m=f?{className:f}:{},h=qt(c.props,ae(Ze(u,["ref"])));for(let S in v)S in h&&delete v[S];return l.cloneElement(c,Object.assign({},h,v,d,{ref:o(c.ref,d.ref)},m))}return l.createElement(i,Object.assign({},Ze(u,["ref"]),i!==l.Fragment&&d,i!==l.Fragment&&v),c)}function Hr(){let e=l.useRef([]),t=l.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Dr(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function qt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let s=n[r];for(let a of s){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;a(o,...i)}}});return t}function ot(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let s of i)s==null||s(...o)}});return t}function X(e){var t;return Object.assign(l.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ae(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ze(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let Br="span";var Ee=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ee||{});function Ur(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ee({ourProps:i,theirProps:o,slot:{},defaultTag:Br,name:"Hidden"})}let Ne=X(Ur);function zt(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&_r(n)?!1:r}function _r(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let Kt=Symbol();function Gt(e,t=!0){return Object.assign(e,{[Kt]:t})}function Q(...e){let t=l.useRef(e);l.useEffect(()=>{t.current=e},[e]);let n=N(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Kt]))?void 0:n}var oe=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(oe||{});let Vr=l.createContext(()=>{});function Wr({value:e,children:t}){return P.createElement(Vr.Provider,{value:e},t)}function qr(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function zr(e,t=!1){let[n,r]=l.useReducer(()=>({}),{}),o=l.useMemo(()=>qr(e),[e,n]);return V(()=>{if(!e)return;let i=new ResizeObserver(r);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}let Kr=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function Yt(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let s=t[o].call(n,...i);s&&(n=s,r.forEach(a=>a()))}}}function Xt(e){return l.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let Gr=new Kr(()=>Yt(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function Jt(e,t){let n=Gr.get(t),r=l.useId(),o=Xt(n);if(V(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let i=o.indexOf(r),s=o.length;return i===-1&&(i=s,s+=1),i===s-1}function Yr(e,t,n){let r=re(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});l.useEffect(()=>{if(!e)return;let o=t===null?null:t instanceof HTMLElement?t:t.current;if(!o)return;let i=de();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(o));s.observe(o),i.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(o));s.observe(o),i.add(()=>s.disconnect())}return()=>i.dispose()},[t,r,e])}let lt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Xr=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var te=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(te||{}),Ae=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Ae||{}),Jr=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Jr||{});function ke(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(lt)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Zr(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Xr)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ft=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ft||{});function Zt(e,t=0){var n;return e===((n=Pe(e))==null?void 0:n.body)?!1:J(t,{0(){return e.matches(lt)},1(){let r=e;for(;r!==null;){if(r.matches(lt))return!0;r=r.parentElement}return!1}})}var Qr=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Qr||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let eo=["textarea","input"].join(",");function to(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,eo))!=null?n:!1}function no(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let s=o.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function se(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?no(e):e:t&64?Zr(e):ke(e);o.length>0&&s.length>1&&(s=s.filter(p=>!o.some(f=>f!=null&&"current"in f?(f==null?void 0:f.current)===p:f===p))),r=r??i.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},c=0,v=s.length,g;do{if(c>=v||c+v<=0)return 0;let p=u+c;if(t&16)p=(p+v)%v;else{if(p<0)return 3;if(p>=v)return 1}g=s[p],g==null||g.focus(d),c+=a}while(g!==i.activeElement);return t&6&&to(g)&&g.select(),2}function Qt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ro(){return/Android/gi.test(window.navigator.userAgent)}function oo(){return Qt()||ro()}function ve(e,t,n,r){let o=re(n);l.useEffect(()=>{if(!e)return;function i(s){o.current(s)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function en(e,t,n,r){let o=re(n);l.useEffect(()=>{if(!e)return;function i(s){o.current(s)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const Ot=30;function lo(e,t,n){let r=Jt(e,"outside-click"),o=re(n),i=l.useCallback(function(u,d){if(u.defaultPrevented)return;let c=d(u);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let v=function g(p){return typeof p=="function"?g(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let g of v)if(g!==null&&(g.contains(c)||u.composed&&u.composedPath().includes(g)))return;return!Zt(c,ft.Loose)&&c.tabIndex!==-1&&u.preventDefault(),o.current(u,c)},[o,t]),s=l.useRef(null);ve(r,"pointerdown",u=>{var d,c;s.current=((c=(d=u.composedPath)==null?void 0:d.call(u))==null?void 0:c[0])||u.target},!0),ve(r,"mousedown",u=>{var d,c;s.current=((c=(d=u.composedPath)==null?void 0:d.call(u))==null?void 0:c[0])||u.target},!0),ve(r,"click",u=>{oo()||s.current&&(i(u,()=>s.current),s.current=null)},!0);let a=l.useRef({x:0,y:0});ve(r,"touchstart",u=>{a.current.x=u.touches[0].clientX,a.current.y=u.touches[0].clientY},!0),ve(r,"touchend",u=>{let d={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(d.x-a.current.x)>=Ot||Math.abs(d.y-a.current.y)>=Ot))return i(u,()=>u.target instanceof HTMLElement?u.target:null)},!0),en(r,"blur",u=>i(u,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function me(...e){return l.useMemo(()=>Pe(...e),[...e])}function io(e,t,n,r){let o=re(n);l.useEffect(()=>{e=e??window;function i(s){o.current(s)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function uo(e,t){return l.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function ao(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-o);n.style(r,"paddingRight",`${i}px`)}}}function so(){return Qt()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=de();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let u=a.target.closest("a");if(!u)return;let{hash:d}=new URL(u.href),c=e.querySelector(d);c&&!r(c)&&(s=c)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let u=a.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let u=a.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let u=(a=window.scrollY)!=null?a:window.pageYOffset;i!==u&&window.scrollTo(0,i),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function co(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function fo(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ce=Yt(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:de(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:fo(n)},o=[so(),ao(),co()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ce.subscribe(()=>{let e=ce.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&ce.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ce.dispatch("TEARDOWN",n)}});function po(e,t,n=()=>({containers:[]})){let r=Xt(ce),o=t?r.get(t):void 0,i=o?o.count>0:!1;return V(()=>{if(!(!t||!e))return ce.dispatch("PUSH",t,n),()=>ce.dispatch("POP",t,n)},[e,t]),i}function mo(e,t,n=()=>[document.body]){let r=Jt(e,"scroll-lock");po(r,t,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],n]}})}function go(e=0){let[t,n]=l.useState(e),r=l.useCallback(u=>n(u),[t]),o=l.useCallback(u=>n(d=>d|u),[t]),i=l.useCallback(u=>(t&u)===u,[t]),s=l.useCallback(u=>n(d=>d&~u),[n]),a=l.useCallback(u=>n(d=>d^u),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:i,removeFlag:s,toggleFlag:a}}var Ct;typeof process<"u"&&typeof globalThis<"u"&&((Ct=process==null?void 0:new Object({}))==null?void 0:Ct.NODE_ENV)==="test"&&typeof Element.prototype.getAnimations>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var vo=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(vo||{});function dt(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function pt(e,t,n,r){let[o,i]=l.useState(n),{hasFlag:s,addFlag:a,removeFlag:u}=go(e&&o?3:0),d=l.useRef(!1),c=l.useRef(!1),v=Le();return V(()=>{var g;if(e){if(n&&i(!0),!t){n&&a(3);return}return(g=r==null?void 0:r.start)==null||g.call(r,n),ho(t,{inFlight:d,prepare(){c.current?c.current=!1:c.current=d.current,d.current=!0,!c.current&&(n?(a(3),u(4)):(a(4),u(2)))},run(){c.current?n?(u(3),a(4)):(u(4),a(3)):n?u(1):a(1)},done(){var p;c.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,u(7),n||i(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,v]),e?[o,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function ho(e,{prepare:t,run:n,done:r,inFlight:o}){let i=de();return yo(e,{prepare:t,inFlight:o}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(bo(e,r))})}),i.dispose}function bo(e,t){var n,r;let o=de();if(!e)return o.dispose;let i=!1;o.add(()=>{i=!0});let s=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return s.length===0?(t(),o.dispose):(Promise.allSettled(s.map(a=>a.finished)).then(()=>{i||t()}),o.dispose)}function yo(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function wo(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const tn={...tt},Eo=tn.useInsertionEffect,So=Eo||(e=>e());function nn(e){const t=l.useRef(()=>{});return So(()=>{t.current=e}),l.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var it=typeof document<"u"?l.useLayoutEffect:l.useEffect;let xt=!1,Po=0;const Rt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Po++;function Mo(){const[e,t]=l.useState(()=>xt?Rt():void 0);return it(()=>{e==null&&t(Rt())},[]),l.useEffect(()=>{xt=!0},[]),e}const Oo=tn.useId,Co=Oo||Mo;function xo(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Ro=l.createContext(null),To=l.createContext(null),$o=()=>{var e;return((e=l.useContext(Ro))==null?void 0:e.id)||null},Fo=()=>l.useContext(To),Io="data-floating-ui-focusable";function No(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Co(),i=l.useRef({}),[s]=l.useState(()=>xo()),a=$o()!=null,[u,d]=l.useState(r.reference),c=nn((p,f,m)=>{i.current.openEvent=p?f:void 0,s.emit("openchange",{open:p,event:f,reason:m,nested:a}),n==null||n(p,f,m)}),v=l.useMemo(()=>({setPositionReference:d}),[]),g=l.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return l.useMemo(()=>({dataRef:i,open:t,onOpenChange:c,elements:g,events:s,floatingId:o,refs:v}),[t,c,g,s,o,v])}function Ao(e){e===void 0&&(e={});const{nodeId:t}=e,n=No({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=l.useState(null),[a,u]=l.useState(null),c=(o==null?void 0:o.domReference)||i,v=l.useRef(null),g=Fo();it(()=>{c&&(v.current=c)},[c]);const p=Sn({...e,elements:{...o,...a&&{reference:a}}}),f=l.useCallback(y=>{const C=Oe(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;u(C),p.refs.setReference(C)},[p.refs]),m=l.useCallback(y=>{(Oe(y)||y===null)&&(v.current=y,s(y)),(Oe(p.refs.reference.current)||p.refs.reference.current===null||y!==null&&!Oe(y))&&p.refs.setReference(y)},[p.refs]),h=l.useMemo(()=>({...p.refs,setReference:m,setPositionReference:f,domReference:v}),[p.refs,m,f]),S=l.useMemo(()=>({...p.elements,domReference:c}),[p.elements,c]),M=l.useMemo(()=>({...p,...r,refs:h,elements:S,nodeId:t}),[p,h,S,t,r]);return it(()=>{r.dataRef.current.floatingContext=M;const y=g==null?void 0:g.nodesRef.current.find(C=>C.id===t);y&&(y.context=M)}),l.useMemo(()=>({...p,context:M,refs:h,elements:S}),[p,h,S,M])}const Tt="active",$t="selected";function Qe(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[Tt]:s,[$t]:a,...u}=e;i=u}return{...n==="floating"&&{tabIndex:-1,[Io]:""},...i,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(u=>{let[d,c]=u;if(!(o&&[Tt,$t].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof c=="function"){var v;(v=r.get(d))==null||v.push(c),s[d]=function(){for(var g,p=arguments.length,f=new Array(p),m=0;m<p;m++)f[m]=arguments[m];return(g=r.get(d))==null?void 0:g.map(h=>h(...f)).find(h=>h!==void 0)}}}else s[d]=c}),s),{})}}function jo(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),o=l.useCallback(a=>Qe(a,e,"reference"),t),i=l.useCallback(a=>Qe(a,e,"floating"),n),s=l.useCallback(a=>Qe(a,e,"item"),r);return l.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}function Ft(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Lo=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:u=0,scrollRef:d,...c}=Pn(e,t),{rects:v,elements:{floating:g}}=t,p=n.current[s],f=(d==null?void 0:d.current)||g,m=g.clientTop||f.clientTop,h=g.clientTop!==0,S=f.clientTop!==0,M=g===f;if(!p)return{};const y={...t,...await jt(-p.offsetTop-g.clientTop-v.reference.height/2-p.offsetHeight/2-i).fn(t)},C=await ze(Ft(y,f.scrollHeight+m+g.clientTop),c),$=await ze(y,{...c,elementContext:"reference"}),L=Ke(0,C.top),T=y.y+L,O=(f.scrollHeight>f.clientHeight?A=>A:On)(Ke(0,f.scrollHeight+(h&&M||S?m*2:0)-L-Ke(0,C.bottom)));if(f.style.maxHeight=O+"px",f.scrollTop=L,o){const A=f.offsetHeight<p.offsetHeight*Mn(a,n.current.length)-1||$.top>=-u||$.bottom>=-u;Te.flushSync(()=>o(A))}return r&&(r.current=await ze(Ft({...y,y:T},f.offsetHeight+m+g.clientTop),c)),{y:T}}});function ko(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:s,onChange:a}=t,u=nn(a),d=l.useRef(!1),c=l.useRef(null),v=l.useRef(null);l.useEffect(()=>{if(!o)return;function p(m){if(m.ctrlKey||!f||i.current==null)return;const h=m.deltaY,S=i.current.top>=-.5,M=i.current.bottom>=-.5,y=f.scrollHeight-f.clientHeight,C=h<0?-1:1,$=h<0?"max":"min";f.scrollHeight<=f.clientHeight||(!S&&h>0||!M&&h<0?(m.preventDefault(),Te.flushSync(()=>{u(L=>L+Math[$](h,y*C))})):/firefox/i.test(wo())&&(f.scrollTop+=h))}const f=(s==null?void 0:s.current)||r.floating;if(n&&f)return f.addEventListener("wheel",p),requestAnimationFrame(()=>{c.current=f.scrollTop,i.current!=null&&(v.current={...i.current})}),()=>{c.current=null,v.current=null,f.removeEventListener("wheel",p)}},[o,n,r.floating,i,s,u]);const g=l.useMemo(()=>({onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const p=(s==null?void 0:s.current)||r.floating;if(!(!i.current||!p||!d.current)){if(c.current!==null){const f=p.scrollTop-c.current;(i.current.bottom<-.5&&f<-1||i.current.top<-.5&&f>1)&&Te.flushSync(()=>u(m=>m+f))}requestAnimationFrame(()=>{c.current=p.scrollTop})}}}),[r.floating,u,i,s]);return l.useMemo(()=>o?{floating:g}:{},[o,g])}let Me=l.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Me.displayName="FloatingContext";let mt=l.createContext(null);mt.displayName="PlacementContext";function Ho(e){return l.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Do(){return l.useContext(Me).setReference}function Bo(){let{getFloatingProps:e,slot:t}=l.useContext(Me);return l.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Uo(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=l.useContext(mt),n=l.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(o,i)=>i instanceof HTMLElement?i.outerHTML:i:void 0)]);V(()=>{t==null||t(n??null)},[t,n]);let r=l.useContext(Me);return l.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let It=4;function _o({children:e,enabled:t=!0}){let[n,r]=l.useState(null),[o,i]=l.useState(0),s=l.useRef(null),[a,u]=l.useState(null);Vo(a);let d=t&&n!==null&&a!==null,{to:c="bottom",gap:v=0,offset:g=0,padding:p=0,inner:f}=Wo(n,a),[m,h="center"]=c.split(" ");V(()=>{d&&i(0)},[d]);let{refs:S,floatingStyles:M,context:y}=Ao({open:d,placement:m==="selection"?h==="center"?"bottom":`bottom-${h}`:h==="center"?`${m}`:`${m}-${h}`,strategy:"absolute",transform:!1,middleware:[jt({mainAxis:m==="selection"?0:v,crossAxis:g}),Cn({padding:p}),m!=="selection"&&xn({padding:p}),m==="selection"&&f?Lo({...f,padding:p,overflowRef:s,offset:o,minItemsVisible:It,referenceOverflowThreshold:p,onFallbackChange(A){var U,B;if(!A)return;let x=y.elements.floating;if(!x)return;let j=parseFloat(getComputedStyle(x).scrollPaddingBottom)||0,W=Math.min(It,x.childElementCount),z=0,R=0;for(let b of(B=(U=y.elements.floating)==null?void 0:U.childNodes)!=null?B:[])if(b instanceof HTMLElement){let w=b.offsetTop,I=w+b.clientHeight+j,F=x.scrollTop,k=F+x.clientHeight;if(w>=F&&I<=k)W--;else{R=Math.max(0,Math.min(I,k)-Math.max(w,F)),z=b.clientHeight;break}}W>=1&&i(b=>{let w=z*W-R+j;return b>=w?b:w})}}):null,Rn({padding:p,apply({availableWidth:A,availableHeight:U,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${A}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${U}px)`})}})].filter(Boolean),whileElementsMounted:Tn}),[C=m,$=h]=y.placement.split("-");m==="selection"&&(C="selection");let L=l.useMemo(()=>({anchor:[C,$].filter(Boolean).join(" ")}),[C,$]),T=ko(y,{overflowRef:s,onChange:i}),{getReferenceProps:D,getFloatingProps:H}=jo([T]),O=N(A=>{u(A),S.setFloating(A)});return l.createElement(mt.Provider,{value:r},l.createElement(Me.Provider,{value:{setFloating:O,setReference:S.setReference,styles:M,getReferenceProps:D,getFloatingProps:H,slot:L}},e))}function Vo(e){V(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Wo(e,t){var n,r,o;let i=et((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=et((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=et((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:s,padding:a}}function et(e,t,n=void 0){let r=Le(),o=N((u,d)=>{if(u==null)return[n,null];if(typeof u=="number")return[u,null];if(typeof u=="string"){if(!d)return[n,null];let c=Nt(u,d);return[c,v=>{let g=rn(u);{let p=g.map(f=>window.getComputedStyle(d).getPropertyValue(f));r.requestAnimationFrame(function f(){r.nextFrame(f);let m=!1;for(let[S,M]of g.entries()){let y=window.getComputedStyle(d).getPropertyValue(M);if(p[S]!==y){p[S]=y,m=!0;break}}if(!m)return;let h=Nt(u,d);c!==h&&(v(h),c=h)})}return r.dispose}]}return[n,null]}),i=l.useMemo(()=>o(e,t)[0],[e,t]),[s=i,a]=l.useState();return V(()=>{let[u,d]=o(e,t);if(a(u),!!d)return d(a)},[e,t]),s}function rn(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...rn(o)]:[r]}return[]}function Nt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let He=l.createContext(null);He.displayName="OpenClosedContext";var Y=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Y||{});function De(){return l.useContext(He)}function on({value:e,children:t}){return P.createElement(He.Provider,{value:e},t)}function qo({children:e}){return P.createElement(He.Provider,{value:null},e)}function zo(e){let t=N(e),n=l.useRef(!1);l.useEffect(()=>(n.current=!1,()=>{n.current=!0,Wt(()=>{n.current&&t()})}),[t])}function Ko(){let e=typeof document>"u";return"useSyncExternalStore"in tt?(t=>t.useSyncExternalStore)(tt)(()=>()=>{},()=>!1,()=>!e):!1}function gt(){let e=Ko(),[t,n]=l.useState(fe.isHandoffComplete);return t&&fe.isHandoffComplete===!1&&n(!1),l.useEffect(()=>{t!==!0&&n(!0)},[t]),l.useEffect(()=>fe.handoff(),[]),e?!1:t}let Go=l.createContext(!1);function Yo(){return l.useContext(Go)}function Xo(e){let t=Yo(),n=l.useContext(un),r=me(e),[o,i]=l.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(fe.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let u=r.createElement("div");return u.setAttribute("id","headlessui-portal-root"),r.body.appendChild(u)});return l.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),l.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),o}let ln=l.Fragment,Jo=X(function(e,t){let n=e,r=l.useRef(null),o=Q(Gt(c=>{r.current=c}),t),i=me(r),s=Xo(r),[a]=l.useState(()=>{var c;return fe.isServer?null:(c=i==null?void 0:i.createElement("div"))!=null?c:null}),u=l.useContext(ut),d=gt();return V(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),V(()=>{if(a&&u)return u.register(a)},[u,a]),zo(()=>{var c;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((c=s.parentElement)==null||c.removeChild(s)))}),d?!s||!a?null:Te.createPortal(ee({ourProps:{ref:o},theirProps:n,slot:{},defaultTag:ln,name:"Portal"}),a):null});function Zo(e,t){let n=Q(t),{enabled:r=!0,...o}=e;return r?P.createElement(Jo,{...o,ref:n}):ee({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:ln,name:"Portal"})}let Qo=l.Fragment,un=l.createContext(null);function el(e,t){let{target:n,...r}=e,o={ref:Q(t)};return P.createElement(un.Provider,{value:n},ee({ourProps:o,theirProps:r,defaultTag:Qo,name:"Popover.Group"}))}let ut=l.createContext(null);function tl(){let e=l.useContext(ut),t=l.useRef([]),n=N(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=N(i=>{let s=t.current.indexOf(i);s!==-1&&t.current.splice(s,1),e&&e.unregister(i)}),o=l.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,l.useMemo(()=>function({children:i}){return P.createElement(ut.Provider,{value:o},i)},[o])]}let nl=X(Zo),rl=X(el),ol=Object.assign(nl,{Group:rl});function ll({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=me(n),o=N(()=>{var i,s;let a=[];for(let u of e)u!==null&&(u instanceof HTMLElement?a.push(u):"current"in u&&u.current instanceof HTMLElement&&a.push(u.current));if(t!=null&&t.current)for(let u of t.current)a.push(u);for(let u of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(d=>u.contains(d))||a.push(u));return a});return{resolveContainers:o,contains:N(i=>o().some(s=>s.contains(i)))}}let an=l.createContext(null);function sn({children:e,node:t}){let[n,r]=l.useState(null),o=cn(t??n);return P.createElement(an.Provider,{value:o},e,o===null&&P.createElement(Ne,{features:Ee.Hidden,ref:i=>{var s,a;if(i){for(let u of(a=(s=Pe(i))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])if(u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u!=null&&u.contains(i)){r(u);break}}}}))}function cn(e=null){var t;return(t=l.useContext(an))!=null?t:e}function il(){let e=l.useRef(!1);return V(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ne=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ne||{});function fn(){let e=l.useRef(0);return en(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function dn(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:mn)!==l.Fragment||P.Children.count(e.children)===1}let Be=l.createContext(null);Be.displayName="TransitionContext";var ul=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ul||{});function al(){let e=l.useContext(Be);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function sl(){let e=l.useContext(Ue);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ue=l.createContext(null);Ue.displayName="NestingContext";function _e(e){return"children"in e?_e(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function pn(e,t){let n=re(e),r=l.useRef([]),o=il(),i=Le(),s=N((p,f=le.Hidden)=>{let m=r.current.findIndex(({el:h})=>h===p);m!==-1&&(J(f,{[le.Unmount](){r.current.splice(m,1)},[le.Hidden](){r.current[m].state="hidden"}}),i.microTask(()=>{var h;!_e(r)&&o.current&&((h=n.current)==null||h.call(n))}))}),a=N(p=>{let f=r.current.find(({el:m})=>m===p);return f?f.state!=="visible"&&(f.state="visible"):r.current.push({el:p,state:"visible"}),()=>s(p,le.Unmount)}),u=l.useRef([]),d=l.useRef(Promise.resolve()),c=l.useRef({enter:[],leave:[]}),v=N((p,f,m)=>{u.current.splice(0),t&&(t.chains.current[f]=t.chains.current[f].filter(([h])=>h!==p)),t==null||t.chains.current[f].push([p,new Promise(h=>{u.current.push(h)})]),t==null||t.chains.current[f].push([p,new Promise(h=>{Promise.all(c.current[f].map(([S,M])=>M)).then(()=>h())})]),f==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>m(f)):m(f)}),g=N((p,f,m)=>{Promise.all(c.current[f].splice(0).map(([h,S])=>S)).then(()=>{var h;(h=u.current.shift())==null||h()}).then(()=>m(f))});return l.useMemo(()=>({children:r,register:a,unregister:s,onStart:v,onStop:g,wait:d,chains:c}),[a,s,r,v,g,c,d])}let mn=l.Fragment,gn=pe.RenderStrategy;function cl(e,t){var n,r;let{transition:o=!0,beforeEnter:i,afterEnter:s,beforeLeave:a,afterLeave:u,enter:d,enterFrom:c,enterTo:v,entered:g,leave:p,leaveFrom:f,leaveTo:m,...h}=e,[S,M]=l.useState(null),y=l.useRef(null),C=dn(e),$=Q(...C?[y,t,M]:t===null?[]:[t]),L=(n=h.unmount)==null||n?le.Unmount:le.Hidden,{show:T,appear:D,initial:H}=al(),[O,A]=l.useState(T?"visible":"hidden"),U=sl(),{register:B,unregister:x}=U;V(()=>B(y),[B,y]),V(()=>{if(L===le.Hidden&&y.current){if(T&&O!=="visible"){A("visible");return}return J(O,{hidden:()=>x(y),visible:()=>B(y)})}},[O,y,B,x,T,L]);let j=gt();V(()=>{if(C&&j&&O==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,O,j,C]);let W=H&&!D,z=D&&T&&H,R=l.useRef(!1),b=pn(()=>{R.current||(A("hidden"),x(y))},U),w=N(G=>{R.current=!0;let ue=G?"enter":"leave";b.onStart(y,ue,ge=>{ge==="enter"?i==null||i():ge==="leave"&&(a==null||a())})}),I=N(G=>{let ue=G?"enter":"leave";R.current=!1,b.onStop(y,ue,ge=>{ge==="enter"?s==null||s():ge==="leave"&&(u==null||u())}),ue==="leave"&&!_e(b)&&(A("hidden"),x(y))});l.useEffect(()=>{C&&o||(w(T),I(T))},[T,C,o]);let F=(()=>!(!o||!C||!j||W))(),[,k]=pt(F,S,T,{start:w,end:I}),_=ae({ref:$,className:((r=rt(h.className,z&&d,z&&c,k.enter&&d,k.enter&&k.closed&&c,k.enter&&!k.closed&&v,k.leave&&p,k.leave&&!k.closed&&f,k.leave&&k.closed&&m,!k.transition&&T&&g))==null?void 0:r.trim())||void 0,...dt(k)}),K=0;return O==="visible"&&(K|=Y.Open),O==="hidden"&&(K|=Y.Closed),k.enter&&(K|=Y.Opening),k.leave&&(K|=Y.Closing),P.createElement(Ue.Provider,{value:b},P.createElement(on,{value:K},ee({ourProps:_,theirProps:h,defaultTag:mn,features:gn,visible:O==="visible",name:"Transition.Child"})))}function fl(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,s=l.useRef(null),a=dn(e),u=Q(...a?[s,t]:t===null?[]:[t]);gt();let d=De();if(n===void 0&&d!==null&&(n=(d&Y.Open)===Y.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,v]=l.useState(n?"visible":"hidden"),g=pn(()=>{n||v("hidden")}),[p,f]=l.useState(!0),m=l.useRef([n]);V(()=>{p!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),f(!1))},[m,n]);let h=l.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);V(()=>{n?v("visible"):!_e(g)&&s.current!==null&&v("hidden")},[n,g]);let S={unmount:o},M=N(()=>{var C;p&&f(!1),(C=e.beforeEnter)==null||C.call(e)}),y=N(()=>{var C;p&&f(!1),(C=e.beforeLeave)==null||C.call(e)});return P.createElement(Ue.Provider,{value:g},P.createElement(Be.Provider,{value:h},ee({ourProps:{...S,as:l.Fragment,children:P.createElement(vn,{ref:u,...S,...i,beforeEnter:M,beforeLeave:y})},theirProps:{},defaultTag:l.Fragment,features:gn,visible:c==="visible",name:"Transition"})))}function dl(e,t){let n=l.useContext(Be)!==null,r=De()!==null;return P.createElement(P.Fragment,null,!n&&r?P.createElement(at,{ref:t,...e}):P.createElement(vn,{ref:t,...e}))}let at=X(fl),vn=X(cl),pl=X(dl),ml=Object.assign(at,{Child:pl,Root:at});var gl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(gl||{}),vl=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(vl||{});let hl={0:e=>({...e,popoverState:J(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},vt=l.createContext(null);vt.displayName="PopoverContext";function Ve(e){let t=l.useContext(vt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ve),n}return t}let We=l.createContext(null);We.displayName="PopoverAPIContext";function ht(e){let t=l.useContext(We);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ht),n}return t}let bt=l.createContext(null);bt.displayName="PopoverGroupContext";function hn(){return l.useContext(bt)}let qe=l.createContext(null);qe.displayName="PopoverPanelContext";function bl(){return l.useContext(qe)}function yl(e,t){return J(t.type,hl,e,t)}let wl="div";function El(e,t){var n;let{__demoMode:r=!1,...o}=e,i=l.useRef(null),s=Q(t,Gt(R=>{i.current=R})),a=l.useRef([]),u=l.useReducer(yl,{__demoMode:r,popoverState:r?0:1,buttons:a,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:l.createRef(),afterPanelSentinel:l.createRef(),afterButtonSentinel:l.createRef()}),[{popoverState:d,button:c,buttonId:v,panel:g,panelId:p,beforePanelSentinel:f,afterPanelSentinel:m,afterButtonSentinel:h},S]=u,M=me((n=i.current)!=null?n:c),y=l.useMemo(()=>{if(!c||!g)return!1;for(let _ of document.querySelectorAll("body > *"))if(Number(_==null?void 0:_.contains(c))^Number(_==null?void 0:_.contains(g)))return!0;let R=ke(),b=R.indexOf(c),w=(b+R.length-1)%R.length,I=(b+1)%R.length,F=R[w],k=R[I];return!g.contains(F)&&!g.contains(k)},[c,g]),C=re(v),$=re(p),L=l.useMemo(()=>({buttonId:C,panelId:$,close:()=>S({type:1})}),[C,$,S]),T=hn(),D=T==null?void 0:T.registerPopover,H=N(()=>{var R;return(R=T==null?void 0:T.isFocusWithinPopoverGroup())!=null?R:(M==null?void 0:M.activeElement)&&((c==null?void 0:c.contains(M.activeElement))||(g==null?void 0:g.contains(M.activeElement)))});l.useEffect(()=>D==null?void 0:D(L),[D,L]);let[O,A]=tl(),U=cn(c),B=ll({mainTreeNode:U,portals:O,defaultContainers:[c,g]});io(M==null?void 0:M.defaultView,"focus",R=>{var b,w,I,F,k,_;R.target!==window&&R.target instanceof HTMLElement&&d===0&&(H()||c&&g&&(B.contains(R.target)||(w=(b=f.current)==null?void 0:b.contains)!=null&&w.call(b,R.target)||(F=(I=m.current)==null?void 0:I.contains)!=null&&F.call(I,R.target)||(_=(k=h.current)==null?void 0:k.contains)!=null&&_.call(k,R.target)||S({type:1})))},!0),lo(d===0,B.resolveContainers,(R,b)=>{S({type:1}),Zt(b,ft.Loose)||(R.preventDefault(),c==null||c.focus())});let x=N(R=>{S({type:1});let b=(()=>R?R instanceof HTMLElement?R:"current"in R&&R.current instanceof HTMLElement?R.current:c:c)();b==null||b.focus()}),j=l.useMemo(()=>({close:x,isPortalled:y}),[x,y]),W=l.useMemo(()=>({open:d===0,close:x}),[d,x]),z={ref:s};return P.createElement(sn,{node:U},P.createElement(_o,null,P.createElement(qe.Provider,{value:null},P.createElement(vt.Provider,{value:u},P.createElement(We.Provider,{value:j},P.createElement(Wr,{value:x},P.createElement(on,{value:J(d,{0:Y.Open,1:Y.Closed})},P.createElement(A,null,ee({ourProps:z,theirProps:o,slot:W,defaultTag:wl,name:"Popover"})))))))))}let Sl="button";function Pl(e,t){let n=l.useId(),{id:r=`headlessui-popover-button-${n}`,disabled:o=!1,autoFocus:i=!1,...s}=e,[a,u]=Ve("Popover.Button"),{isPortalled:d}=ht("Popover.Button"),c=l.useRef(null),v=`headlessui-focus-sentinel-${l.useId()}`,g=hn(),p=g==null?void 0:g.closeOthers,f=bl()!==null;l.useEffect(()=>{if(!f)return u({type:3,buttonId:r}),()=>{u({type:3,buttonId:null})}},[f,r,u]);let[m]=l.useState(()=>Symbol()),h=Q(c,t,Do(),N(b=>{if(!f){if(b)a.buttons.current.push(m);else{let w=a.buttons.current.indexOf(m);w!==-1&&a.buttons.current.splice(w,1)}a.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),b&&u({type:2,button:b})}})),S=Q(c,t),M=me(c),y=N(b=>{var w,I,F;if(f){if(a.popoverState===1)return;switch(b.key){case oe.Space:case oe.Enter:b.preventDefault(),(I=(w=b.target).click)==null||I.call(w),u({type:1}),(F=a.button)==null||F.focus();break}}else switch(b.key){case oe.Space:case oe.Enter:b.preventDefault(),b.stopPropagation(),a.popoverState===1&&(p==null||p(a.buttonId)),u({type:0});break;case oe.Escape:if(a.popoverState!==0)return p==null?void 0:p(a.buttonId);if(!c.current||M!=null&&M.activeElement&&!c.current.contains(M.activeElement))return;b.preventDefault(),b.stopPropagation(),u({type:1});break}}),C=N(b=>{f||b.key===oe.Space&&b.preventDefault()}),$=N(b=>{var w,I;zt(b.currentTarget)||o||(f?(u({type:1}),(w=a.button)==null||w.focus()):(b.preventDefault(),b.stopPropagation(),a.popoverState===1&&(p==null||p(a.buttonId)),u({type:0}),(I=a.button)==null||I.focus()))}),L=N(b=>{b.preventDefault(),b.stopPropagation()}),{isFocusVisible:T,focusProps:D}=$n({autoFocus:i}),{isHovered:H,hoverProps:O}=Fn({isDisabled:o}),{pressed:A,pressProps:U}=kr({disabled:o}),B=a.popoverState===0,x=l.useMemo(()=>({open:B,active:A||B,disabled:o,hover:H,focus:T,autofocus:i}),[B,H,T,A,o,i]),j=uo(e,a.button),W=ot(f?{ref:S,type:j,onKeyDown:y,onClick:$,disabled:o||void 0,autoFocus:i}:{ref:h,id:a.buttonId,type:j,"aria-expanded":a.popoverState===0,"aria-controls":a.panel?a.panelId:void 0,disabled:o||void 0,autoFocus:i,onKeyDown:y,onKeyUp:C,onClick:$,onMouseDown:L},D,O,U),z=fn(),R=N(()=>{let b=a.panel;if(!b)return;function w(){J(z.current,{[ne.Forwards]:()=>se(b,te.First),[ne.Backwards]:()=>se(b,te.Last)})===Ae.Error&&se(ke().filter(I=>I.dataset.headlessuiFocusGuard!=="true"),J(z.current,{[ne.Forwards]:te.Next,[ne.Backwards]:te.Previous}),{relativeTo:a.button})}w()});return P.createElement(P.Fragment,null,ee({ourProps:W,theirProps:s,slot:x,defaultTag:Sl,name:"Popover.Button"}),B&&!f&&d&&P.createElement(Ne,{id:v,ref:a.afterButtonSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:R}))}let Ml="div",Ol=pe.RenderStrategy|pe.Static;function bn(e,t){let n=l.useId(),{id:r=`headlessui-popover-backdrop-${n}`,transition:o=!1,...i}=e,[{popoverState:s},a]=Ve("Popover.Backdrop"),[u,d]=l.useState(null),c=Q(t,d),v=De(),[g,p]=pt(o,u,v!==null?(v&Y.Open)===Y.Open:s===0),f=N(S=>{if(zt(S.currentTarget))return S.preventDefault();a({type:1})}),m=l.useMemo(()=>({open:s===0}),[s]),h={ref:c,id:r,"aria-hidden":!0,onClick:f,...dt(p)};return ee({ourProps:h,theirProps:i,slot:m,defaultTag:Ml,features:Ol,visible:g,name:"Popover.Backdrop"})}let Cl="div",xl=pe.RenderStrategy|pe.Static;function Rl(e,t){let n=l.useId(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,anchor:i,portal:s=!1,modal:a=!1,transition:u=!1,...d}=e,[c,v]=Ve("Popover.Panel"),{close:g,isPortalled:p}=ht("Popover.Panel"),f=`headlessui-focus-sentinel-before-${n}`,m=`headlessui-focus-sentinel-after-${n}`,h=l.useRef(null),S=Ho(i),[M,y]=Uo(S),C=Bo();S&&(s=!0);let[$,L]=l.useState(null),T=Q(h,t,S?M:null,N(w=>v({type:4,panel:w})),L),D=me(h),H=Hr();V(()=>(v({type:5,panelId:r}),()=>{v({type:5,panelId:null})}),[r,v]);let O=De(),[A,U]=pt(u,$,O!==null?(O&Y.Open)===Y.Open:c.popoverState===0);Yr(A,c.button,()=>{v({type:1})});let B=c.__demoMode?!1:a&&A;mo(B,D);let x=N(w=>{var I;switch(w.key){case oe.Escape:if(c.popoverState!==0||!h.current||D!=null&&D.activeElement&&!h.current.contains(D.activeElement))return;w.preventDefault(),w.stopPropagation(),v({type:1}),(I=c.button)==null||I.focus();break}});l.useEffect(()=>{var w;e.static||c.popoverState===1&&((w=e.unmount)==null||w)&&v({type:4,panel:null})},[c.popoverState,e.unmount,e.static,v]),l.useEffect(()=>{if(c.__demoMode||!o||c.popoverState!==0||!h.current)return;let w=D==null?void 0:D.activeElement;h.current.contains(w)||se(h.current,te.First)},[c.__demoMode,o,h.current,c.popoverState]);let j=l.useMemo(()=>({open:c.popoverState===0,close:g}),[c.popoverState,g]),W=ot(S?C():{},{ref:T,id:r,onKeyDown:x,onBlur:o&&c.popoverState===0?w=>{var I,F,k,_,K;let G=w.relatedTarget;G&&h.current&&((I=h.current)!=null&&I.contains(G)||(v({type:1}),((k=(F=c.beforePanelSentinel.current)==null?void 0:F.contains)!=null&&k.call(F,G)||(K=(_=c.afterPanelSentinel.current)==null?void 0:_.contains)!=null&&K.call(_,G))&&G.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...d.style,...y,"--button-width":zr(c.button,!0).width},...dt(U)}),z=fn(),R=N(()=>{let w=h.current;if(!w)return;function I(){J(z.current,{[ne.Forwards]:()=>{var F;se(w,te.First)===Ae.Error&&((F=c.afterPanelSentinel.current)==null||F.focus())},[ne.Backwards]:()=>{var F;(F=c.button)==null||F.focus({preventScroll:!0})}})}I()}),b=N(()=>{let w=h.current;if(!w)return;function I(){J(z.current,{[ne.Forwards]:()=>{if(!c.button)return;let F=ke(),k=F.indexOf(c.button),_=F.slice(0,k+1),K=[...F.slice(k+1),..._];for(let G of K.slice())if(G.dataset.headlessuiFocusGuard==="true"||$!=null&&$.contains(G)){let ue=K.indexOf(G);ue!==-1&&K.splice(ue,1)}se(K,te.First,{sorted:!1})},[ne.Backwards]:()=>{var F;se(w,te.Previous)===Ae.Error&&((F=c.button)==null||F.focus())}})}I()});return P.createElement(qo,null,P.createElement(qe.Provider,{value:r},P.createElement(We.Provider,{value:{close:g,isPortalled:p}},P.createElement(ol,{enabled:s?e.static||A:!1},A&&p&&P.createElement(Ne,{id:f,ref:c.beforePanelSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:R}),ee({mergeRefs:H,ourProps:W,theirProps:d,slot:j,defaultTag:Cl,features:xl,visible:A,name:"Popover.Panel"}),A&&p&&P.createElement(Ne,{id:m,ref:c.afterPanelSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:b})))))}let Tl="div";function $l(e,t){let n=l.useRef(null),r=Q(n,t),[o,i]=l.useState([]),s=N(f=>{i(m=>{let h=m.indexOf(f);if(h!==-1){let S=m.slice();return S.splice(h,1),S}return m})}),a=N(f=>(i(m=>[...m,f]),()=>s(f))),u=N(()=>{var f;let m=Pe(n);if(!m)return!1;let h=m.activeElement;return(f=n.current)!=null&&f.contains(h)?!0:o.some(S=>{var M,y;return((M=m.getElementById(S.buttonId.current))==null?void 0:M.contains(h))||((y=m.getElementById(S.panelId.current))==null?void 0:y.contains(h))})}),d=N(f=>{for(let m of o)m.buttonId.current!==f&&m.close()}),c=l.useMemo(()=>({registerPopover:a,unregisterPopover:s,isFocusWithinPopoverGroup:u,closeOthers:d}),[a,s,u,d]),v=l.useMemo(()=>({}),[]),g=e,p={ref:r};return P.createElement(sn,null,P.createElement(bt.Provider,{value:c},ee({ourProps:p,theirProps:g,slot:v,defaultTag:Tl,name:"Popover.Group"})))}let Fl=X(El),yn=X(Pl),Il=X(bn),Nl=X(bn),wn=X(Rl),Al=X($l),jl=Object.assign(Fl,{Button:yn,Backdrop:Nl,Overlay:Il,Panel:wn,Group:Al});function Ll(e,t){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),l.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))}const kl=l.forwardRef(Ll),At=kl,En=e=>({message:e.message,position:e.position&&{endColumn:e.position.end.column,startColumn:e.position.start.column,startLineNumber:e.position.start.line,endLineNumber:e.position.end.line}}),Hl=e=>{if(!e)return"";const t=En(e);return t?`${t.message}${t.position?` at line: ${t.position.startLineNumber}, column: ${t.position.startColumn}`:""}`:null};function Dl({error:e}){const t=Hl(e);return q(jl,{className:"relative",children:()=>be(In,{children:[be(yn,{className:`p-2 shaodw-lg border ${e?"":" opacity-0 hidden "}`,children:[q("span",{className:"sr-only",children:"Errors"}),q(At,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})]}),q(ml,{enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:q(wn,{className:"absolute top-8 w-[300px] -right-3 z-10 mt-3 px-4 sm:px-0",children:q("div",{className:"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:q("div",{className:"rounded bg-red-50 p-4 overflow-scroll",children:be("div",{className:"flex",children:[q("div",{className:"flex-shrink-0",children:q(At,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),q("div",{className:"ml-3",children:q("h3",{className:"text-sm font-medium text-red-800 whitespace-pre-wrap",children:t})})]})})})})})]})})}function Bl(e,t){const[n,r]=l.useState(e);return l.useEffect(()=>{const o=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(o)}},[e,t]),n}const Ul=()=>("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),_l=e=>{const t=Tr(),n=P.useRef(null),[r,o]=P.useState(100),i=P.useMemo(()=>Ul(),[]),s=e.field,a=P.useMemo(()=>{const f=Nn(e.input.value,s,m=>m);return typeof e.input.value=="string"?e.input.value:f},[]),[u,d]=P.useState(a),[c,v]=P.useState(null),g=Bl(u,500);P.useEffect(()=>{const f=An(u,s,m=>m);if(f.children[0]&&f.children[0].type==="invalid_markdown"){const m=f.children[0];v(m)}else v(null);e.input.onChange(f)},[JSON.stringify(g)]),P.useEffect(()=>{if(n.current)if(c){const f=En(c);t.editor.setModelMarkers(n.current.getModel(),i,[{...f.position,message:f.message,severity:8}])}else t.editor.setModelMarkers(n.current.getModel(),i,[])},[JSON.stringify(c),n.current]),P.useEffect(()=>{t&&(t.languages.typescript.typescriptDefaults.setEagerModelSync(!0),t.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}))},[t]);function p(f,m){f&&(n.current=f,f.onDidContentSizeChange(()=>{o(Math.min(Math.max(100,f.getContentHeight()),1e3)),f.layout()}))}return be("div",{className:"relative",children:[be("div",{className:"sticky top-1 w-full flex justify-between mb-2 z-50 max-w-full bg-white",children:[q(Vl,{onClick:()=>e.setRawMode(!1),children:"View in rich-text editor 📝"}),q(Dl,{error:c})]}),q("div",{style:{height:`${r}px`},children:q(Fr,{beforeMount:()=>{},height:"100%",width:"100%",path:i,onMount:p,options:{scrollBeyondLastLine:!1,tabSize:2,disableLayerHinting:!0,accessibilitySupport:"off",codeLens:!1,wordWrap:"on",minimap:{enabled:!1},fontSize:14,lineHeight:2,formatOnPaste:!0,lineNumbers:"on",lineNumbersMinChars:2,formatOnType:!0,fixedOverflowWidgets:!0,folding:!1,renderLineHighlight:"none",scrollbar:{verticalScrollbarSize:4,horizontalScrollbarSize:4,alwaysConsumeMouseWheel:!1}},language:"markdown",value:u,onChange:f=>{try{d(f)}catch(m){console.log("error",m)}}})})]})},Vl=e=>q("button",{className:`${e.align==="left"?"rounded-l border-r-0":"rounded-r border-l-0"} flex justify-center w-full shadow rounded bg-white cursor-pointer relative inline-flex items-center px-2 py-2 border border-gray-200 hover:text-white text-sm font-medium transition-all ease-out duration-150 hover:bg-blue-500 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,type:"button",onClick:e.onClick,children:q("span",{className:"text-sm font-semibold tracking-wide align-baseline mr-1",children:e.children})}),Kl=_l;export{Kl as default};
